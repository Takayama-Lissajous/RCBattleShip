Abstract

이 기술 보고서의 주요 주제는 쿼터니언, 수학적 속성 및 개체 회전에 사용되는 방법을 알아보는 것이다.
우리는 쿼터니언 수학을 소개하고 잘 알려진 행렬 구현보다 사원수 회전을 구현하는것이 왜 더 나은지 설명한다.
그런 다음 회전 기법에 보간 방법을 사용한다.
보간 방법에는 Slerp 와 Squad 가 있는데 이에 대해 살펴본다.
다른 보간 방법으로 Spring 이라는 기법도 살펴보도록 한다.
아무튼 이 보고서에서는 사원수, 사원수를 활용한 회전 및 회전에 대한 보간 곡선에 대해 알아보도록 한다.



Chapter 1. Introduction

animate 의 의미는 "생명을 불어 넣다" 라는 뜻을 가지고 있다.
Animation 은 변화를 시각적으로 보여준다.
전통적으로 이것은 엔터테인먼트에서 사용되었다.
예로 만화에서 Donald Duck 이 움직이는데 사용한다.
물리학(입자 시스템의 시각화)과 화학(분자 표시)을 위해 추가적인 응용이 개발되었다.

여기서 우리는 애니메이션 세계의 작은 부분(회전)을 다루도록 한다.
애니메이션이 전통적으로 컴퓨터에서 어떻게 이루어졌는지
그리고 지금은 어떻게 수행되는지에 대해 개괄적으로 설명하도록 한다.
PPT 는 [Foley et al., 1990] 및 [Lasseter, 1987] 에 기초한다.

애니메이션은 원고의 스토리를 기반으로 한다.
원고는 스토리의 장면을 만드는데 사용되며 개별 장면으로 분할하는 방법이 결정된다.
각 장면에 대해 장면을 설명하는 텍스트로 스케치가 작성된다.
장면을 기반으로 일련의 키 프레임이 제작되어 주요 위치에서 캐릭터를 렌더링한다.
그런 다음 키 프레임 사이의 프레임에 보간을 적용하여 자연스러운 동작을 만들어낼 수도 있다.
전통적으로 가장 숙련된 아티스트는 경험이 부족한 아티스트엑 프레임을 남기고 키 프레임을 제작했다.
애니메이터는 연필 스케치를 통해 제공되는 대략적인 애니메이션 초안을 만든다.

이 애니메이션 방법은 키 프레이밍이라 하며 컴퓨터 애니메이션 시스템에서 사용되었다.
이미 1968 년에 3D 모델의 애니메이션이 알려졌으며
키 프레임 애니메이션을 위해 컴퓨터를 사용하는 Idea 는 1971 년에 사용되었다. [Burtnyk & Wein, 1971]

두 개의 키 프레임이 주어지면 그 사이의 프레임은 보간을 통해 생성할 수 있다.
이를 수행하는데 몇 가지 문제가 있다.

* 간단한 키 프레임 사이의 변환은 간단한 선형 보간법으로 쉽게 얻을 수 있다.
  움직임이 더 많은 키 프레임으로 구성되어있는 경우
  키 프레임에서 부드러운 움직임을 생성하기 위해보다 고급 커브(예: 스플라인)를 사용해야 한다.

* 일반 물리학은 눈이 만화에서 움직이는 물체를 인식하는 방법을 설명하는데 사용할 수 없다.
  객체가 움직일 때 모양이 바뀐다.
  빠른 공을 타격할 때 타원형으로 변한다.
  컴퓨터가 볼 모션을 애니메이션으로 사용하는 경우 자동으로 실행되지 않는다.

* 회전 운동의 애니메이션 또한 키 프레임과 보간을 사용하여 시도된다.
  그러나 회전은 이동보다 복잡하다.
  회전 보간과 관련된 문제가 여기서 다뤄질 것이다.

Figure 1.1: The Cartoon version of a bouncing ball.

컴퓨터 애니메이션은 순수한 모션 이상의 것이다.
움직임의 보간 문제 외에도 빛, 소리, 색, 카메라 앵글, 카메라 모션, 그림자,
모델링되는 객체의 물리적 속성 등에 관한 복잡한 문제가 얽혀있다.

회전 표현과 구현 방법을 다루기 위해 이 글을 적는다.
이 방법은 주로 4 차원 복소수의 일종인 쿼터니언을 기반으로 한다.
일련의 키 프레임을 통해 회전에 대한 수학적 설명을 유도한다.

게임 프로그래밍에서와 같이 다른 측면(빛, 소리 등)에 언급된 사항에 대해서는 논의하지 않는다.

이 논문의 기본 토대는 Shoemake 1985, Barr et al., 1992 Watt & Watt 1992 에 해당한다.
우리는 이 기사에 대한 어떠한 지식도 요구하지 않는다.
그러나 독자가 행렬을 사용하는 일반적인 변형 방법에 익숙하고
평면(특히 스플라인)에서 보간 곡선에 대한 지식을 갖는 것이 장점이다.
몇 가지 기본 수학 지식이 또한 유리할 것이다(군론, 추론, 변이의 미적분학, 이차적 기하학)



Chapter 2. Geometric Transformations

여기서 3D 객체의 선택된 변형에 대해 논의한다.
핵심 주제는 회전이지만 위치간의 보간은 회전 보간에 유용한 평행이므로 이동이 포함된다.



2.1. Translation

평행 이동은 가장 명백한 변형이다.
공간의 한 점이 한 위치에서 다른 위치로 이동한다.
포인트 P ∈  R^3 을 3-tuple(x; y; z); 로 표기한다.
Δx; Δy; Δz; ∈  R 및 벡터(Δx; Δy; Δz;) 에 의한 변환을 포함한다.
그런 다음 새로운 위치 P' 는 간단한 덧셈으로 계산된다.
P' = (x + Δx, y + Δy, z + Δz)
정의가 모호하지 않으며 P 에서 P' 까지의 변환 벡터가 하나만 존재한다.



2.2. Rotation

3D 에서의 회전은 이동만큼 간단하지 않으며 여러면에서 정의할 수 있다.
아래와 같은 결정을 내릴 수 있다.

Euler(*1707 ~ † 1783) 정리에 의해 주어진 정의를 사용하도록 한다.

- Proposition 1.
O, O' ∈  R^3 은 두 방향이어야 한다.
그러면 θ 가 l 만큼 회전할 때 O 는 O' 를 산출하는 축 l ∈  R^3 과 회전각 θ ∈  [-π, π] 이 존재한다.

명제는 가능성을 나타내며 유일성을 기술하지는 않는다.

방향과 회전을 구분할 것이다.
R^3 에 있는 객체의 방향은 법선 벡터에 의해 주어진다.
회전은 축과 회전 각도로 정의된다.

Figure 2.1: O, O' ∈  R^3 은 두 방향이어야 한다.
            그러면 축 l ∈  R^3 과 회전각 θ ∈  [-π, π] 가 존재하여 l 이 θ 만큼 회전할 때 O 가 O' 이 된다.



Chapter 3. Two Rotational Modalities

Euler 의 정리(명제 1)는 회전의 간단한 정의를 제공한다.
대부분의 문헌에서 Euler 각은 회전을 정의하는데 사용된다.
이 2 개의 기본 개념에서 회전은 다양한 수학적 방식으로 논의될 수 있다.
정의와 상응하는 수학적 표현의 결합을 회전적 양식이라고 부를 것이다.
이 보고서에서 아래와 같은 2 가지 방식을 논의할 것이다:

* 일반적인 변환 행렬로 표현되는 Euler 각으로 정의된 회전
* 쿼터니언으로 표현되는 Euler 정리에 의해 정의된 회전

각 양식을 통해 일반적인 회전 구현을 구현하는 것이다.
양식이 전반적으로 어떻게 적용되는지에 대한 비교는 Chapter 4 에 나와있다.
회전 표현 간의 변환은 부록 B 에서 논의된다.
마지막으로 이 보고서에서 사용된 회전에 대한 일반적인 규칙은 부록 A 에 나와있다.

3.1 과 3.2 에서 Euler 각과 행렬 표현에 대해 설명한다.
설명을 간단하므로 독자가 이 주제에 익숙하다고 가정한다.

3.3 에서 쿼터니온 수학의 기초를 시작으로 쿼터니언에 대한 심층적인 부분을 살펴본다.
소개 후에 Euler 정리에 의해 회전을 나타내는 쿼터니언 사용법을 확립한다.



3.1. Euler angles

회전 방향 공간은 Euler 각으로 매개 변수화 할 수 있다.
Euler 각을 사용하면 일반적인 방향은 공간에서 상호 직교하는 3 개의 축에 대한 일련의 회전으로 작성된다.
일반적으로 직교 좌표계의 x, y, z 축이 사용된다.
회전은 종종 x-roll, y-roll, z-roll 이라고 불린다.

Euler 는 원래 미분 방정식을 풀기위한 도구로서 Euler 각을 개발했다.
나중에 Euler 각은 방위의 공간을 매개 변수화하는 가장 널리 사용되는 방법이 되었다.

이 방식은 많은 문제를 야기하게 된다.
주어진 방향을 얻기 위해 수행된 동작으로 회전을 고려하면
Euler 각을 사용하여 회전 공간을 매개변수화할 수 있다.
2.2 에서 기술된 일반적인 회전을 기술하기 위해 3 개의 Euler 각 (θ_1, θ_2, θ_3)  가 필요하며
θ_1, θ_2, θ_3 는 각각 x, y, z 축을 중심으로한 회전 각에 해당한다.

일반적인 회전에서 Euler 각으로 변환된 Euler 각의 다른 집합으로 동일한 회전이 얻어지기 때문에 굉장히 애매한 부분이 존재한다([Foley et al., 1990] 참조)
또한 회전 결과는 3 개의 회전이 수행되는 순서에 따라 달라진다.
이것은 더 많은 모호함을 유발하지만 회전은 일반적으로 교환이 성립하지 않는다.
(외적의 교환이 성립하지 않음과 행렬의 교환이 성립하지 않음)
Euler 각으로 변환하는 모호성중 일부를 회전을 수행해야하는 순서로 제거할 수 있다.
부록 A 에 설명된 규칙을 사용하여 작업을 진행하도록 한다.
그러나 관습을 도입해도 모호함이 완전히 제거되지 않는다.(Chapter 4 참조)



3.2. Rotation Matrices


