<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>ocmc_ecc_l2.c File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<table width=100%>
<tr>
  <td bgcolor="black" width="1"><a href="http://www.ti.com"><img border=0 src="../../tilogo.gif"></a></td>
  <td bgcolor="red"><img src="../../titagline.gif"></td>
</tr>
</table>
<!-- Generated by Doxygen 1.8.9.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_5c9827f39abcc28a92e5a02429a0e390.html">ip</a></li><li class="navelem"><a class="el" href="dir_06f3626d03f4c047ee01e49df5a07240.html">ocmc</a></li><li class="navelem"><a class="el" href="dir_cc0560a4a76f1b8c13fe6335ca5f51d6.html">V0</a></li><li class="navelem"><a class="el" href="dir_962e2a9c4c201b7b4c19073c868d4d7d.html">priv</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">ocmc_ecc_l2.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>OCMC APIs.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdint.h&gt;</code><br />
<code>#include &lt;<a class="el" href="csl__ocmc__ecc_8h.html">ti/csl/csl_ocmc_ecc.h</a>&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ad7376996b56b9f319f2653396e966de4"><td class="memItemLeft" align="right" valign="top">ocmc_inst_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ocmc__ecc__l2_8c.html#ad7376996b56b9f319f2653396e966de4">OCMC_GetNumOCMC</a> (void)</td></tr>
<tr class="memdesc:ad7376996b56b9f319f2653396e966de4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Query the chip for how many OCMC instances are on the chip.  <a href="#ad7376996b56b9f319f2653396e966de4">More...</a><br /></td></tr>
<tr class="separator:ad7376996b56b9f319f2653396e966de4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aebc21b60a41eecffcd120f98ba17df2f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ocmc__ecc__l1_8h.html#a43d474b24274a293377242f16445a870">ocmc_buf_id_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ocmc__ecc__l2_8c.html#aebc21b60a41eecffcd120f98ba17df2f">OCMC_GetNumCBUF</a> (void)</td></tr>
<tr class="memdesc:aebc21b60a41eecffcd120f98ba17df2f"><td class="mdescLeft">&#160;</td><td class="mdescRight">API gets number of circular buffer supported.  <a href="#aebc21b60a41eecffcd120f98ba17df2f">More...</a><br /></td></tr>
<tr class="separator:aebc21b60a41eecffcd120f98ba17df2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32fd358793fbf0be2b1fe0393dbc84bc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ocmc__ecc__l2_8h.html#a5d585e4626ba9d6dcb71b8d122ede52b">ocmc_ret_type_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ocmc__ecc__l2_8c.html#a32fd358793fbf0be2b1fe0393dbc84bc">OCMC_Get_GP_MemoryBaseAndSize</a> (uint32_t baseAddr, <a class="el" href="ocmc__ecc__l1_8h.html#a2bda956bb280aa28a0eb3c18788e72c5">ocmc_addr_t</a> *gp_mem_base, uint32_t *gp_mem_size)</td></tr>
<tr class="memdesc:a32fd358793fbf0be2b1fe0393dbc84bc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Query where GP memory starts and what the GP memory size is.  <a href="#a32fd358793fbf0be2b1fe0393dbc84bc">More...</a><br /></td></tr>
<tr class="separator:a32fd358793fbf0be2b1fe0393dbc84bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed849defb2ccf771630adf7060430d2f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ocmc__ecc__l2_8h.html#a5d585e4626ba9d6dcb71b8d122ede52b">ocmc_ret_type_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ocmc__ecc__l2_8c.html#aed849defb2ccf771630adf7060430d2f">OCMC_Setup_VBUF</a> (uint32_t baseAddr, <a class="el" href="ocmc__ecc__l1_8h.html#a43d474b24274a293377242f16445a870">ocmc_buf_id_t</a> buf_id, const <a class="el" href="structvbuf__setup__raw__t.html">vbuf_setup_raw_t</a> *vbuf_setup_raw)</td></tr>
<tr class="memdesc:aed849defb2ccf771630adf7060430d2f"><td class="mdescLeft">&#160;</td><td class="mdescRight">API to set up a VBUF using VBUF and CBUF physical addresses.  <a href="#aed849defb2ccf771630adf7060430d2f">More...</a><br /></td></tr>
<tr class="separator:aed849defb2ccf771630adf7060430d2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c416de04f56fbd0257de31ed88591c1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ocmc__ecc__l2_8h.html#a5d585e4626ba9d6dcb71b8d122ede52b">ocmc_ret_type_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ocmc__ecc__l2_8c.html#a9c416de04f56fbd0257de31ed88591c1">OCMC_Setup_VBUF_Address_Auto</a> (uint32_t baseAddr, <a class="el" href="ocmc__ecc__l1_8h.html#a43d474b24274a293377242f16445a870">ocmc_buf_id_t</a> buf_id, const <a class="el" href="structvbuf__setup__raw__auto__addr__t.html">vbuf_setup_raw_auto_addr_t</a> *vbuf_setup_raw_auto_addr)</td></tr>
<tr class="memdesc:a9c416de04f56fbd0257de31ed88591c1"><td class="mdescLeft">&#160;</td><td class="mdescRight">API to set up a VBUF using auto-generated virtual frame and CBUF addresses.  <a href="#a9c416de04f56fbd0257de31ed88591c1">More...</a><br /></td></tr>
<tr class="separator:a9c416de04f56fbd0257de31ed88591c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae2b1e87f5878077269f9f97c1cf7f2f3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ocmc__ecc__l2_8h.html#a5d585e4626ba9d6dcb71b8d122ede52b">ocmc_ret_type_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ocmc__ecc__l2_8c.html#ae2b1e87f5878077269f9f97c1cf7f2f3">OCMC_Setup_VBUF_With_Image_Params</a> (uint32_t baseAddr, <a class="el" href="ocmc__ecc__l1_8h.html#a43d474b24274a293377242f16445a870">ocmc_buf_id_t</a> buf_id, const <a class="el" href="structvbuf__setup__image__params__t.html">vbuf_setup_image_params_t</a> *vbuf_setup_image)</td></tr>
<tr class="memdesc:ae2b1e87f5878077269f9f97c1cf7f2f3"><td class="mdescLeft">&#160;</td><td class="mdescRight">API to set up a VBUF using Image Parameters.  <a href="#ae2b1e87f5878077269f9f97c1cf7f2f3">More...</a><br /></td></tr>
<tr class="separator:ae2b1e87f5878077269f9f97c1cf7f2f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ec6a3bcde7b1e5bcc9846624486ed46"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ocmc__ecc__l2_8h.html#a5d585e4626ba9d6dcb71b8d122ede52b">ocmc_ret_type_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ocmc__ecc__l2_8c.html#a4ec6a3bcde7b1e5bcc9846624486ed46">OCMC_Setup_VBUF_With_Image_Params_Address_Auto</a> (uint32_t baseAddr, <a class="el" href="ocmc__ecc__l1_8h.html#a43d474b24274a293377242f16445a870">ocmc_buf_id_t</a> buf_id, const <a class="el" href="structvbuf__setup__image__params__auto__addr__t.html">vbuf_setup_image_params_auto_addr_t</a> *vbuf_setup_image_auto_addr)</td></tr>
<tr class="memdesc:a4ec6a3bcde7b1e5bcc9846624486ed46"><td class="mdescLeft">&#160;</td><td class="mdescRight">API to set up a VBUF using Image Parameters With Automatic VBUF Start Address Selection.  <a href="#a4ec6a3bcde7b1e5bcc9846624486ed46">More...</a><br /></td></tr>
<tr class="separator:a4ec6a3bcde7b1e5bcc9846624486ed46"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad68c868903c44b26763aa5b511c70aa2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ocmc__ecc__l2_8h.html#a5d585e4626ba9d6dcb71b8d122ede52b">ocmc_ret_type_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ocmc__ecc__l2_8c.html#ad68c868903c44b26763aa5b511c70aa2">OCMC_Get_VBUF_Params</a> (uint32_t baseAddr, <a class="el" href="ocmc__ecc__l1_8h.html#a43d474b24274a293377242f16445a870">ocmc_buf_id_t</a> buf_id, <a class="el" href="structvbuf__setup__raw__t.html">vbuf_setup_raw_t</a> *vbuf_setup_raw)</td></tr>
<tr class="memdesc:ad68c868903c44b26763aa5b511c70aa2"><td class="mdescLeft">&#160;</td><td class="mdescRight">API to read a specified VBUF's programmed parameters.  <a href="#ad68c868903c44b26763aa5b511c70aa2">More...</a><br /></td></tr>
<tr class="separator:ad68c868903c44b26763aa5b511c70aa2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a674814c78ac1ec7bf00eca5ff90fa9b4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ocmc__ecc__l2_8h.html#a5d585e4626ba9d6dcb71b8d122ede52b">ocmc_ret_type_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ocmc__ecc__l2_8c.html#a674814c78ac1ec7bf00eca5ff90fa9b4">OCMC_CBUF_Heap_Init</a> (ocmc_inst_t ocmc_inst_id)</td></tr>
<tr class="memdesc:a674814c78ac1ec7bf00eca5ff90fa9b4"><td class="mdescLeft">&#160;</td><td class="mdescRight">CBUF Memory Heap Initialization.  <a href="#a674814c78ac1ec7bf00eca5ff90fa9b4">More...</a><br /></td></tr>
<tr class="separator:a674814c78ac1ec7bf00eca5ff90fa9b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac55e45c40b254f01a721d0bab2fa89cd"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ocmc__ecc__l2_8c.html#ac55e45c40b254f01a721d0bab2fa89cd">OCMC_CBUF_Heap_Alloc</a> (ocmc_inst_t ocmc_inst_id, const <a class="el" href="structvbuf__setup__image__params__auto__addr__t.html">vbuf_setup_image_params_auto_addr_t</a> *vbuf_setup_image_auto_addr, <a class="el" href="ocmc__ecc__l2_8h.html#a5d585e4626ba9d6dcb71b8d122ede52b">ocmc_ret_type_t</a> *err)</td></tr>
<tr class="memdesc:ac55e45c40b254f01a721d0bab2fa89cd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocate CBUF Memory.  <a href="#ac55e45c40b254f01a721d0bab2fa89cd">More...</a><br /></td></tr>
<tr class="separator:ac55e45c40b254f01a721d0bab2fa89cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada3713f25446636be1d3c1c2b5607f09"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ocmc__ecc__l2_8h.html#a5d585e4626ba9d6dcb71b8d122ede52b">ocmc_ret_type_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ocmc__ecc__l2_8c.html#ada3713f25446636be1d3c1c2b5607f09">OCMC_CBUF_Heap_Free</a> (ocmc_inst_t ocmc_inst_id, const void *addr)</td></tr>
<tr class="memdesc:ada3713f25446636be1d3c1c2b5607f09"><td class="mdescLeft">&#160;</td><td class="mdescRight">Free CBUF Memory.  <a href="#ada3713f25446636be1d3c1c2b5607f09">More...</a><br /></td></tr>
<tr class="separator:ada3713f25446636be1d3c1c2b5607f09"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa46bee00accf0ae62fb885beee974916"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ocmc__ecc__l2_8h.html#a5d585e4626ba9d6dcb71b8d122ede52b">ocmc_ret_type_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ocmc__ecc__l2_8c.html#aa46bee00accf0ae62fb885beee974916">OCMC_CBUF_Deinit</a> (ocmc_inst_t ocmc_inst_id)</td></tr>
<tr class="memdesc:aa46bee00accf0ae62fb885beee974916"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deinitialize CBUF memory.  <a href="#aa46bee00accf0ae62fb885beee974916">More...</a><br /></td></tr>
<tr class="separator:aa46bee00accf0ae62fb885beee974916"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d4afefd4bee53901af4ffa5ad077232"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ocmc__ecc__l2_8c.html#a5d4afefd4bee53901af4ffa5ad077232">OCMC_Inst_AddrGet</a> (ocmc_inst_t ocmc_inst)</td></tr>
<tr class="memdesc:a5d4afefd4bee53901af4ffa5ad077232"><td class="mdescLeft">&#160;</td><td class="mdescRight">API gets OCMC instance base address for the OCMC instance number passed.  <a href="#a5d4afefd4bee53901af4ffa5ad077232">More...</a><br /></td></tr>
<tr class="separator:a5d4afefd4bee53901af4ffa5ad077232"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf492683a8803b48f2cdfebe653a6cde"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ocmc__ecc__l2_8c.html#adf492683a8803b48f2cdfebe653a6cde">OCMC_Get_Error_String</a> (<a class="el" href="ocmc__ecc__l2_8h.html#a5d585e4626ba9d6dcb71b8d122ede52b">ocmc_ret_type_t</a> err)</td></tr>
<tr class="memdesc:adf492683a8803b48f2cdfebe653a6cde"><td class="mdescLeft">&#160;</td><td class="mdescRight">API to convert error code to string.  <a href="#adf492683a8803b48f2cdfebe653a6cde">More...</a><br /></td></tr>
<tr class="separator:adf492683a8803b48f2cdfebe653a6cde"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>OCMC APIs. </p>
<p>This file contains the OCMC HAL layer two APIs </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="aa46bee00accf0ae62fb885beee974916"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ocmc__ecc__l2_8h.html#a5d585e4626ba9d6dcb71b8d122ede52b">ocmc_ret_type_t</a> OCMC_CBUF_Deinit </td>
          <td>(</td>
          <td class="paramtype">ocmc_inst_t&#160;</td>
          <td class="paramname"><em>ocmc_inst_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Deinitialize CBUF memory. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ocmc_inst_t</td><td>OCMC instance number </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Success if CBUF memory was successfully de-initialized, error otherwise</dd></dl>
<p>This function disables global CBUF mode </p>

</div>
</div>
<a class="anchor" id="ac55e45c40b254f01a721d0bab2fa89cd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* OCMC_CBUF_Heap_Alloc </td>
          <td>(</td>
          <td class="paramtype">ocmc_inst_t&#160;</td>
          <td class="paramname"><em>ocmc_inst_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structvbuf__setup__image__params__auto__addr__t.html">vbuf_setup_image_params_auto_addr_t</a> *&#160;</td>
          <td class="paramname"><em>vbuf_setup_image_auto_addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ocmc__ecc__l2_8h.html#a5d585e4626ba9d6dcb71b8d122ede52b">ocmc_ret_type_t</a> *&#160;</td>
          <td class="paramname"><em>err</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allocate CBUF Memory. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ocmc_inst_t</td><td>OCMC instance number </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">vbuf_setup_image_auto_addr</td><td>Pointer to structure containing image params </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">err</td><td>Returns error or success code </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OCMC Address if successful, Null in case of error</dd></dl>
<p>Implementation Notes: this API uses underlying OCMC HAL API "OCMC_Setup_VBUF_With_Image_Params_Address_Auto" to program the next free buffer in one of the available OCMC instances. </p>

</div>
</div>
<a class="anchor" id="ada3713f25446636be1d3c1c2b5607f09"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ocmc__ecc__l2_8h.html#a5d585e4626ba9d6dcb71b8d122ede52b">ocmc_ret_type_t</a> OCMC_CBUF_Heap_Free </td>
          <td>(</td>
          <td class="paramtype">ocmc_inst_t&#160;</td>
          <td class="paramname"><em>ocmc_inst_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>addr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Free CBUF Memory. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ocmc_inst_t</td><td>OCMC instance number </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">addr</td><td>Memory address to be freed from OCMC CBUF </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Success if CBUF memory was successfully freed, error otherwise</dd></dl>
<p>Memory can be freed up in any order, however the usage of the overall Alloc/Free pair is expected to occur just once. ie, a bunch of Alloc calls occurring during the beginning of the program execution, and a bunch of Free calls occur in the end. </p>

</div>
</div>
<a class="anchor" id="a674814c78ac1ec7bf00eca5ff90fa9b4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ocmc__ecc__l2_8h.html#a5d585e4626ba9d6dcb71b8d122ede52b">ocmc_ret_type_t</a> OCMC_CBUF_Heap_Init </td>
          <td>(</td>
          <td class="paramtype">ocmc_inst_t&#160;</td>
          <td class="paramname"><em>ocmc_inst_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>CBUF Memory Heap Initialization. </p>
<dl class="section return"><dt>Returns</dt><dd>Success if CBUF Heap was created, error otherwise </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ocmc_inst_t</td><td>OCMC instance number</td></tr>
  </table>
  </dd>
</dl>
<p>This function enables global CBUF mode </p>

</div>
</div>
<a class="anchor" id="adf492683a8803b48f2cdfebe653a6cde"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* OCMC_Get_Error_String </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ocmc__ecc__l2_8h.html#a5d585e4626ba9d6dcb71b8d122ede52b">ocmc_ret_type_t</a>&#160;</td>
          <td class="paramname"><em>err</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>API to convert error code to string. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">err_code</td><td>Error code as an enumerated value </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>String description of numeric error code </dd></dl>

</div>
</div>
<a class="anchor" id="a32fd358793fbf0be2b1fe0393dbc84bc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ocmc__ecc__l2_8h.html#a5d585e4626ba9d6dcb71b8d122ede52b">ocmc_ret_type_t</a> OCMC_Get_GP_MemoryBaseAndSize </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>baseAddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ocmc__ecc__l1_8h.html#a2bda956bb280aa28a0eb3c18788e72c5">ocmc_addr_t</a> *&#160;</td>
          <td class="paramname"><em>gp_mem_base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>gp_mem_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Query where GP memory starts and what the GP memory size is. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">baseAddr</td><td>OCMC Instance baseAddr </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">gp_mem_base</td><td>General Purpose memory start address </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">gp_mem_size</td><td>General Purpose memory size in bytes </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error if instance id is invalid, success otherwise</dd></dl>
<p>Implementation: Algorithm works by scanning through CBUF_n_START_ADDR and CBUF_n_SIZE registers and records the highes start address and associated size it finds.</p>
<p>GP memory is expected to begin from afterwards.</p>
<p>Usage: API is expected to be called after CBUFs have been configured </p>

</div>
</div>
<a class="anchor" id="ad68c868903c44b26763aa5b511c70aa2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ocmc__ecc__l2_8h.html#a5d585e4626ba9d6dcb71b8d122ede52b">ocmc_ret_type_t</a> OCMC_Get_VBUF_Params </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>baseAddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ocmc__ecc__l1_8h.html#a43d474b24274a293377242f16445a870">ocmc_buf_id_t</a>&#160;</td>
          <td class="paramname"><em>buf_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structvbuf__setup__raw__t.html">vbuf_setup_raw_t</a> *&#160;</td>
          <td class="paramname"><em>vbuf_setup_raw</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>API to read a specified VBUF's programmed parameters. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">baseAddr</td><td>OCMC Instance baseAddr </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">buf_id</td><td>Buffer Id </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">vbuf_setup_raw</td><td>Pointer to a <a class="el" href="structvbuf__setup__raw__t.html" title="Structure used to setup the parameters for a VBUF configuration. ">vbuf_setup_raw_t</a> structure. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code </dd></dl>

</div>
</div>
<a class="anchor" id="aebc21b60a41eecffcd120f98ba17df2f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ocmc__ecc__l1_8h.html#a43d474b24274a293377242f16445a870">ocmc_buf_id_t</a> OCMC_GetNumCBUF </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>API gets number of circular buffer supported. </p>
<dl class="section return"><dt>Returns</dt><dd>Total number of circular buffer supported </dd></dl>

</div>
</div>
<a class="anchor" id="ad7376996b56b9f319f2653396e966de4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ocmc_inst_t OCMC_GetNumOCMC </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Query the chip for how many OCMC instances are on the chip. </p>
<dl class="section return"><dt>Returns</dt><dd>number of OCMC IP instances available on the chip</dd></dl>
<p>Implementation Notes: the API is to be implemented by querying the chip's SW_ID register </p>

</div>
</div>
<a class="anchor" id="a5d4afefd4bee53901af4ffa5ad077232"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t OCMC_Inst_AddrGet </td>
          <td>(</td>
          <td class="paramtype">ocmc_inst_t&#160;</td>
          <td class="paramname"><em>ocmc_inst</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>API gets OCMC instance base address for the OCMC instance number passed. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ocmc_inst_t</td><td>OCMC instance number </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OCMC instance base address </dd></dl>

</div>
</div>
<a class="anchor" id="aed849defb2ccf771630adf7060430d2f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ocmc__ecc__l2_8h.html#a5d585e4626ba9d6dcb71b8d122ede52b">ocmc_ret_type_t</a> OCMC_Setup_VBUF </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>baseAddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ocmc__ecc__l1_8h.html#a43d474b24274a293377242f16445a870">ocmc_buf_id_t</a>&#160;</td>
          <td class="paramname"><em>buf_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structvbuf__setup__raw__t.html">vbuf_setup_raw_t</a> *&#160;</td>
          <td class="paramname"><em>vbuf_setup_raw</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>API to set up a VBUF using VBUF and CBUF physical addresses. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">baseAddr</td><td>OCMC Instance baseAddr </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">buf_id</td><td>Buffer Id </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">vbuf_setup_raw</td><td>Pointer to <a class="el" href="structvbuf__setup__raw__t.html" title="Structure used to setup the parameters for a VBUF configuration. ">vbuf_setup_raw_t</a> structure. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code </dd></dl>

</div>
</div>
<a class="anchor" id="a9c416de04f56fbd0257de31ed88591c1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ocmc__ecc__l2_8h.html#a5d585e4626ba9d6dcb71b8d122ede52b">ocmc_ret_type_t</a> OCMC_Setup_VBUF_Address_Auto </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>baseAddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ocmc__ecc__l1_8h.html#a43d474b24274a293377242f16445a870">ocmc_buf_id_t</a>&#160;</td>
          <td class="paramname"><em>buf_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structvbuf__setup__raw__auto__addr__t.html">vbuf_setup_raw_auto_addr_t</a> *&#160;</td>
          <td class="paramname"><em>vbuf_setup_raw_auto_addr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>API to set up a VBUF using auto-generated virtual frame and CBUF addresses. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">baseAddr</td><td>OCMC Instance baseAddr </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">buf_id</td><td>Buffer Id </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">vbuf_setup_raw_auto_addr</td><td>Pointer to <a class="el" href="structvbuf__setup__raw__auto__addr__t.html" title="Structure used to setup the parameters for a VBUF configuration with auto address-generation. ">vbuf_setup_raw_auto_addr_t</a> structure. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code </dd></dl>

</div>
</div>
<a class="anchor" id="ae2b1e87f5878077269f9f97c1cf7f2f3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ocmc__ecc__l2_8h.html#a5d585e4626ba9d6dcb71b8d122ede52b">ocmc_ret_type_t</a> OCMC_Setup_VBUF_With_Image_Params </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>baseAddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ocmc__ecc__l1_8h.html#a43d474b24274a293377242f16445a870">ocmc_buf_id_t</a>&#160;</td>
          <td class="paramname"><em>buf_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structvbuf__setup__image__params__t.html">vbuf_setup_image_params_t</a> *&#160;</td>
          <td class="paramname"><em>vbuf_setup_image</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>API to set up a VBUF using Image Parameters. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">baseAddr</td><td>OCMC Instance baseAddr </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">buf_id</td><td>Buffer Id </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">vbuf_setup_image</td><td>Pointer to <a class="el" href="structvbuf__setup__image__params__t.html" title="Structure used to setup a VBUF configuration using Image parameters. ">vbuf_setup_image_params_t</a> structure. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code </dd></dl>

</div>
</div>
<a class="anchor" id="a4ec6a3bcde7b1e5bcc9846624486ed46"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ocmc__ecc__l2_8h.html#a5d585e4626ba9d6dcb71b8d122ede52b">ocmc_ret_type_t</a> OCMC_Setup_VBUF_With_Image_Params_Address_Auto </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>baseAddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ocmc__ecc__l1_8h.html#a43d474b24274a293377242f16445a870">ocmc_buf_id_t</a>&#160;</td>
          <td class="paramname"><em>buf_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structvbuf__setup__image__params__auto__addr__t.html">vbuf_setup_image_params_auto_addr_t</a> *&#160;</td>
          <td class="paramname"><em>vbuf_setup_image_auto_addr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>API to set up a VBUF using Image Parameters With Automatic VBUF Start Address Selection. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">baseAddr</td><td>OCMC Instance baseAddr </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">buf_id</td><td>Buffer Id </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">vbuf_setup_image_auto_addr</td><td>Pointer to <a class="el" href="structvbuf__setup__image__params__auto__addr__t.html" title="Structure used to setup a VBUF configuration using Image parameters with auto address generation...">vbuf_setup_image_params_auto_addr_t</a> structure. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Error code</dd></dl>
<p>Implementation Notes: This assumes that the VBUF programming is done sequentially starting with VBUF0 onwards. VBUF0 is allocated at the start of the virtual frame region. VBUF1 is allocated adjacent to the end of VBUF0, and so on. </p>

</div>
</div>
</div><!-- contents -->
<hr size="1"><small>
Copyright  2016, Texas Instruments Incorporated</small>
</body>
</html>
